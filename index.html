<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>中央广播电视总台亚太总站香港</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      padding: 20px;
      background: #f5f5f5;

    }
    /* 容器：适配横竖屏，作为图片排版基准 */
    #image-container {
      position: relative;
      width: 100%;
      height: 80vh;
      border: 0px dashed #666;
      background: #fff;
      overflow: hidden;
      /* 横竖屏适配 */
      @media (orientation: landscape) {
        max-width: 1200px;
        margin: 0 auto;
      }
      @media (orientation: portrait) {
        height: 90vh;
      }
    }
    /* 图片样式：仅基础定位，尺寸/位置/层级全由JS配置 */
    .editable-img {
      position: absolute;
      transform-origin: top left; /* 关键：缩放/定位基准为左上角 */
      user-select: none;
      /* 移除默认尺寸，完全由JS控制 */
    }
    /* 圣诞文字动画样式（最顶层） */
    #christmas-text {
      position: absolute;
      z-index: 999; /* 强制最顶层，高于所有图片 */
      font-size: 36px; /* 初始大小，可修改 */
      color: #FFD700; /* 金色，可修改 */
      font-weight: bold;
      white-space: nowrap;
      user-select: none;
      /* 球形循环动画基础配置 */
      animation: circleMove 10s linear infinite; /* 10秒一圈，可改速度 */
      transform-origin: center;
    }
    /* 球形循环动画关键帧 */
    @keyframes circleMove {
      0% {
        transform: rotate(0deg) translateX(150px) rotate(0deg); /* 150px是运动半径，可改 */
      }
      100% {
        transform: rotate(360deg) translateX(150px) rotate(-360deg);
      }
    }
  </style>
</head>
<body>
  <!-- 图片容器 -->
  <div id="image-container">
    <!-- 6张图片：仅保留基础结构，配置全在JS里 -->
    <img src="Myself.png" class="editable-img" id="img1" alt="图片1">
    <img src="Planing background.png" class="editable-img" id="img2" alt="图片2">
    <img src="MyCardChinese002.png" class="editable-img" id="img3" alt="图片3">
    <img src="MyCardEnglish002.png" class="editable-img" id="img4" alt="图片4">
    <img src="ChineseSenior.png" class="editable-img" id="img5" alt="图片5">
    <img src="EnglishSenior.png" class="editable-img" id="img6" alt="图片6">
    
    <!-- 新增：圣诞文字层（最顶层） -->
    <div id="christmas-text">Happy Christmas</div>
  </div>

  <!-- 添加音频元素 -->
  <audio id="background-music" loop>
    <!-- 替换为你的音乐文件路径，支持mp3、wav等格式 -->
    <source src="JingleBells.mp3" type="audio/mpeg">
   您的浏览器不支持音频播放
  </audio>

  <script>
    // ========== 核心配置区：所有参数可直接修改 ==========
    const container = document.getElementById('image-container');
    // 图片配置项：每张图的层级(zIndex)可自定义，其他由逻辑自动计算
    const imgConfigs = {
      img1: { zIndex: 1 }, // 层级数字越大，越在顶层
      img2: { zIndex: 2 },
      img3: { zIndex: 3 },
      img4: { zIndex: 4 },
      img5: { zIndex: 5 },
      img6: { zIndex: 6 }
    };
    // 2. 圣诞文字配置项（重点！可直接修改）
    const christmasConfig = {
      // 位置：动画圆心的左上角坐标（容器内）
      left: '50%',    // 可改像素（如'200px'）或百分比（如'50%'）
      top: '50%',     // 可改像素（如'150px'）或百分比（如'50%'）
      // 大小
      fontSize: '36px', // 可改（如'24px'/'48px'）
      // 颜色（金色参考值：#FFD700 亮金 / #F0E68C 暗金 / #FFA500 橙金）
      color: '#FFD700',
      // 动画参数
      moveRadius: '150px', // 球形运动半径（越大圈越大）
      speed: '10s'        // 循环速度（越小越快，如'5s'=5秒一圈）
    };

    // ========== 圣诞文字初始化（配置生效） ==========
    function initChristmasText() {
      const textEl = document.getElementById('christmas-text');
      // 应用位置
      textEl.style.left = christmasConfig.left;
      textEl.style.top = christmasConfig.top;
      // 应用大小
      textEl.style.fontSize = christmasConfig.fontSize;
      // 应用颜色
      textEl.style.color = christmasConfig.color;
      // 应用动画参数
      textEl.style.animation = `circleMove ${christmasConfig.speed} linear infinite`;
      // 替换动画半径
      const styleSheet = document.styleSheets[0];
      for (let rule of styleSheet.cssRules) {
        if (rule.name === 'circleMove') {
          rule.cssRules[0].style.transform = `rotate(0deg) translateX(${christmasConfig.moveRadius}) rotate(0deg)`;
          rule.cssRules[1].style.transform = `rotate(360deg) translateX(${christmasConfig.moveRadius}) rotate(-360deg)`;
          break;
        }
      }
    }


    // ========== 核心逻辑：自动适配+左上角基准居中 ==========
    // 等待图片加载完成，确保获取原始尺寸
    function initImages() {
      const imgElements = document.querySelectorAll('.editable-img');
      let loadedCount = 0;

      imgElements.forEach(img => {
        // 监听图片加载完成
        img.onload = function() {
          loadedCount++;
          // 所有图片加载完成后执行排版逻辑
          if (loadedCount === imgElements.length) {
            layoutImages(imgElements);
          }
        };
        // 兼容图片缓存（已加载的情况）
        if (img.complete) img.onload();
      });
    }

    // 排版核心逻辑：原始尺寸适配+左上角基准居中
    function layoutImages(imgElements) {
      const containerWidth = container.clientWidth;
      const containerHeight = container.clientHeight;

      imgElements.forEach(img => {
        const config = imgConfigs[img.id];
        
        // 1. 获取图片原始尺寸（宽/高）
        const originalWidth = img.naturalWidth;
        const originalHeight = img.naturalHeight;

        // 2. 自动适配屏幕：计算缩放比例（保证图片完整显示在容器内）
        const scaleX = containerWidth / originalWidth;
        const scaleY = containerHeight / originalHeight;
        const fitScale = Math.min(scaleX, scaleY, 1); // 最大缩放比例不超过1（不放大原始尺寸）

        // 3. 设置图片最终尺寸（原始尺寸*适配比例）
        img.style.width = `${originalWidth * fitScale}px`;
        img.style.height = `${originalHeight * fitScale}px`;
        const finalWidth = img.offsetWidth;
        const finalHeight = img.offsetHeight;

        // 4. 左上角基准居中计算：
        // 容器中心X - 图片宽度/2 = 图片左上角X
        // 容器中心Y - 图片高度/2 = 图片左上角Y
        const left = (containerWidth - finalWidth) / 2;
        const top = (containerHeight - finalHeight) / 2;

        // 5. 应用配置：位置+层级
        img.style.left = `${left}px`;
        img.style.top = `${top}px`;
        img.style.zIndex = config.zIndex;
      });
    }

    // ========== 窗口适配：resize时重新排版 ==========
    window.addEventListener('resize', () => {
      initImages(); // 窗口变化时重新计算排版
    });

    // 新增：音乐播放控制
    function initMusic() {
      const music = document.getElementById('background-music');
      // 尝试自动播放，部分浏览器需要用户交互后才能播放
      music.play().catch(error => {
        console.log('自动播放失败，等待用户交互后播放:', error);
        // 监听用户点击事件，用户交互后再播放
        document.body.addEventListener('click', () => {
          music.play();
        }, { once: true });
      });
    }

    // 初始化执行
    initImages();
    initChristmasText();
    initMusic(); // 新增音乐初始化调用

    // ========== 手动修改示例（可直接改这里调整参数） ==========
    // 示例1：修改单张图片位置（左上角坐标）
    // document.getElementById('img1').style.left = '100px';
    // document.getElementById('img1').style.top = '50px';

    // 示例2：修改单张图片尺寸
    // document.getElementById('img2').style.width = '300px';
    // document.getElementById('img2').style.height = '200px';

    // 示例3：修改单张图片层级
    // document.getElementById('img3').style.zIndex = 10;
  </script>
</body>
</html>
